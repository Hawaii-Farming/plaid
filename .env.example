# Get your Plaid API keys from the dashboard: https://dashboard.plaid.com/team/keys
# 
# FOR PRODUCTION: Get production keys from the Production tab in the dashboard
# Never commit production keys to version control!
# 
# IMPORTANT: To use production data, you must:
# 1. Apply for production access: https://dashboard.plaid.com/overview/production
# 2. Set a Link use case: https://dashboard.plaid.com/link/data-transparency-v5
# 3. Complete OAuth registration if needed: https://dashboard.plaid.com/settings/compliance/us-oauth-institutions
# 
# See PRODUCTION_SETUP.md for complete production setup guide
PLAID_CLIENT_ID=
PLAID_SECRET=

# SIGNAL_RULESET_KEY is required for both Balance and Signal Transaction Scores
# Set this to the ruleset_key configured in your Plaid Dashboard at https://dashboard.plaid.com/signal/risk-profiles?environment=sandbox
# See https://plaid.com/docs/signal/ for more information
SIGNAL_RULESET_KEY=

# Use 'sandbox' to test with fake credentials in Plaid's Sandbox environment
# Use 'development' for development environment  
# Use 'production' to use real data with real bank accounts
# 
# PRODUCTION REQUIREMENTS:
# Request production approval at https://dashboard.plaid.com/overview/production
# Once approved, you can set your environment to 'production' to test this application against production data.
# We recommend sticking to `sandbox` for initial development and testing.
# Some institutions (Chase, Fidelity, Schwab) take longer to get approval for and aren't available immediately.
# 
# NOTE: To use Production, you must set a use case for Link. 
# You can do this in the Dashboard under Link -> Link Customization -> Data Transparency: 
# https://dashboard.plaid.com/link/data-transparency-v5
PLAID_ENV=sandbox

# PLAID_PRODUCTS is a comma-separated list of products to use when
# initializing Link, e.g. PLAID_PRODUCTS=auth,transactions.
# see https://plaid.com/docs/api/link/#link-token-create-request-products for a complete list.
# Only institutions that support ALL listed products will work.
# If you don't see the institution you want in Link, or get a "Connectivity not supported" error, 
# Remove any products you aren't using.
# NOTE: The Identity Verification (IDV), Income, and Layer APIs have separate Quickstart apps.
# For IDV, use https://github.com/plaid/idv-quickstart
# For Income, use https://github.com/plaid/income-sample
# For Layer, use https://github.com/plaid/layer-quickstart
# Important:
# When moving to Production, make sure to update this list with only the products
# you plan to use. Otherwise, you may be billed for unneeded products.
PLAID_PRODUCTS=auth,transactions,signal

# PLAID_COUNTRY_CODES is a comma-separated list of countries to use when
# initializing Link, e.g. PLAID_COUNTRY_CODES=US,CA.
# Institutions from all listed countries will be shown. If Link is launched with multiple country codes,
# only products that you are enabled for in all countries will be used by Link.
# See https://plaid.com/docs/api/link/#link-token-create-request-country-codes for a complete list
PLAID_COUNTRY_CODES=US,CA

# PLAID_REDIRECT_URI is optional for this Quickstart application.
# If you're not sure if you need to use this field, you can leave it blank
#
# If using this field on Sandbox, set PLAID_REDIRECT_URI to http://localhost:3000/ (no quote characters)
# The OAuth redirect flow requires an endpoint on the developer's website
# that the bank website should redirect to. You will need to configure
# this redirect URI for your client ID through the Plaid developer dashboard
# at https://dashboard.plaid.com/team/api.
# For development or production, you will need to use an https:// url
# Instructions to create a self-signed certificate for localhost can be found at https://github.com/plaid/quickstart/blob/master/README.md#testing-oauth
PLAID_REDIRECT_URI=

# Export script configuration (scripts/export-transactions.js)
# 
# Access token for exporting transactions. Get this by linking an account through the UI,
# then copy the access_token from your backend logs or database.
# 
# FOR PRODUCTION:
# - Store access tokens securely in encrypted database or secrets manager
# - Never commit access tokens to version control
# - Implement token rotation
# - Use separate tokens per user/account
# - See PRODUCTION_SETUP.md for security best practices
PLAID_ACCESS_TOKEN=

# Export format: xlsx or csv (default: xlsx)
EXPORT_FORMAT=xlsx

# Export directory (default: ./exports)
EXPORT_DIR=./exports

# Optional: comma-separated list of account IDs to filter exports
# Example: EXPORT_ACCOUNT_IDS=account_id_1,account_id_2
# Leave blank to export all accounts
EXPORT_ACCOUNT_IDS=

# Optional: number of days to look back on first run (default: 30)
# Only used if no cursor exists yet
EXPORT_START_DAYS=30

# Database Configuration (for production token persistence)
# Choose ONE of the following options:

# Option 1: Single connection string (recommended for cloud deployments like GCP Cloud SQL)
DATABASE_URL=postgresql://user:password@localhost:5432/plaid_production

# Option 2: Individual components (useful for local development)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=plaid_production
# DB_USER=plaid_user
# DB_PASSWORD=plaid_password
# DB_SSL=false  # Set to 'true' for production environments

# API Authentication (for securing token retrieval endpoints)
# Generate a secure random string for production
API_KEY=your_secure_api_key_here

